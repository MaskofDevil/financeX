{% extends "layout.html" %}

{% block title %}
: Transaction History
{% endblock %}

{% block main %}
{% if rows %}
<div class="history">
    <h3>History</h3>
    <ul>
        {% for r in rows %}
        {% if r['shares'] < 0 %} <li class="margin-top">
            {% set datetime = r['time'].split(' ') %}
            <span class="date">{{ datetime[0] }}</span>
            <svg width="16" height="16" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M16 0C7.168 0 0 7.168 0 16C0 24.832 7.168 32 16 32C24.832 32 32 24.832 32 16C32 7.168 24.832 0 16 0ZM24 17.6H8V14.4H24V17.6Z" fill="#FACC15" />
            </svg>
            <span class="bold">{{ r['symbol'] }}</span>&nbsp;{{ r['shares'] }} shares&nbsp;-&nbsp;<span class="time">{{ datetime[1] }}</span>
            </li>
            {% else %}
            <li class="margin-top">
                {% set datetime = r['time'].split(' ') %}
                <span class="date">{{ datetime[0] }}</span>
                <svg width="16" height="16" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M16 0C7.168 0 0 7.168 0 16C0 24.832 7.168 32 16 32C24.832 32 32 24.832 32 16C32 7.168 24.832 0 16 0ZM24 17.6H17.6V24H14.4V17.6H8V14.4H14.4V8H17.6V14.4H24V17.6Z" fill="#4ADE80" />
                </svg>
                <span class="bold">{{ r['symbol'] }}</span>&nbsp;{{ r['shares'] }} shares&nbsp;-&nbsp;<span class="time">{{ datetime[1] }}</span>
            </li>
            {% endif %}
            {% endfor %}
    </ul>
</div>
{% else %}
<p>No transactions yet</p>
{% endif %}
{% endblock %}